<ion-header>
  <ion-toolbar>
    <ion-title>Conversation avec {{ users_ids.name }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="messages">
    <div *ngFor="let message of messageList">
      <ion-label class="message right" *ngIf="message.id_destinataire == users_ids.him && message.id_envoyeur == users_ids.you">
        <ion-label>{{ message.contenu }}</ion-label>
        <ion-label class="date">{{ message.date_envoi.toMillis() | date }}</ion-label>
      </ion-label>
      <ion-label class="message left" *ngIf="message.id_destinataire == users_ids.you && message.id_envoyeur == users_ids.him" (click)="openProfile(message.id_envoyeur)">
        <ion-label>{{ message.contenu }}</ion-label>
        <ion-label class="date">{{ message.date_envoi.toMillis() | date }}</ion-label>
      </ion-label>
    </div>
  </div>

  <ion-item class="bottom">
    <ion-input type="text" [(ngModel)]="message" placeholder="Entrer un message"></ion-input>
    <button clear item-right (click)="sendMessage()">Envoyer</button>
  </ion-item>   
</ion-content>