<ion-header>
  <ion-toolbar>
    <ion-title>Conversation avec {{ users_ids.name }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngFor="let message of messageList | async">
    <ion-label class="message" *ngIf="(message.id_destinataire == users_ids.him && message.id_envoyeur == users_ids.you) ||
    (message.id_destinataire == users_ids.you && message.id_envoyeur == users_ids.him)">
      <ion-label>{{ message.contenu }}</ion-label>
      <ion-label class="date">{{ message.date_envoi.toMillis() | date }}</ion-label>
    </ion-label>
  </div>

  <ion-item class="bottom">
    <ion-input type="text" [(ngModel)]="message" placeholder="Entrer un message"></ion-input>
    <button clear item-right (click)="sendMessage()">Envoyer</button>
  </ion-item>   
</ion-content>